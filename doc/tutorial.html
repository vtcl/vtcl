<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
<head>
  <title>Vtcl tutorial</title>
</head>
<body bgcolor="#FFFFFF">


<font size=+7 ><b><u>VTcl  Tutorial</u></b></font> <br>

<h2>Welcome to  the vTcl  Tutorial!  We'll  guide you through  some simple
examples that demonstrate  several  basic  tasks  to  get  you up  and
running with vTcl.</h2><br>
<font size="+1">


<h1><u><br><i>Before we  can start</i></u></h1><br>

First we need to make  sure  we're speaking the same
language and working in the same environment:



<ul>  <li>software versions.</li>
  <li>terminology and naming conventions used in this tutorial.</li>
 <li> vTcl user preferences.</li>
</ul>

<h2>Software Versions
</h2>

If you have older or newer versions of the software, you may find that
some of  the descriptions don't  match what you see. Hopefully, you'll
still be able to work through the tutorials.<br>

These tutorials are based on the following versions:<br>
<ul>
<li>tcl   7.6</li>
<li>tk    4.2</li>
<li>vTcl  1.10</li></ul> <br>


<h2>Terminology and Naming Conventions for this Tutorial</h2>

vTcl  has   several  main windows.    We'll  refer   to them   by  the
abbreviations given in the table below.  Some of  the vTcl windows are
transient.   Your  window manager might  not  decorate them with Title
Bars. The Window menu in the main menu lets you  open and close all of
the vTcl main windows. <br>


<br>


   <table border=2>
   <tr>
   <td> Abbrev<br><br> </td>
   <td> Window Title Bar<br><br></td>
   <td>Short Description<br><br></td>
   <tr> <tr></tr>
     <tr>
       <td> [Attr] </td>
       <td> Attribute Editor </td>
       <td>attribute editor for the active widget  </td>
     </tr>
     <tr>
       <td> [Cons] </td>
       <td> Visual Tcl Console </td>
       <td> command console </td>
     </tr>
     <tr>
       <td> [Func]  </td>
       <td>  Functions    </td>
       <td> list of functions you've defined </td>
     </tr>
     <tr>
       <td> [Geom] </td>
       <td> Attribute Editor </td>
       <td> geometry parameters for the active widget </td>
     </tr>
     <tr>
       <td> [Menu] </td>
       <td> Visual Tcl    </td>
       <td> main menu: File, Edit, Mode, etc </td>
     </tr>
     <tr>
       <td> [Tool]  </td>
       <td> Widget Toolbar  </td>
       <td> palette of widget icons </td>
     </tr>
     <tr>
       <td> [Tops]  </td>
       <td> Toplevel Windows  </td>
       <td>  list of top level windows you've created </td>
     </tr>
     <tr>
       <td> [Tree] </td>
       <td>  Widget Browser   </td>
       <td>  widget tree diagram of your application </td>
     </tr>
     <tr>
       <td> [Vars]  </td>
       <td>  Variables  </td>
       <td>  list of global variables you've defined </td>
     </tr>
     <tr>
       <td> [Widg] </td>
       <td>  Attribute Editor   </td>
       <td> attribute editor for the active widget  </td>
     </tr>
   </table> <br>
Note that [Widg] and [Geom] are actually sections within the [Attr]
window.<br>

Further, we'll  refer   to a widget within   these  windows  with  the
convention "[Abbrev]:widget".   This reference means to actually click
the specified widget with the left mouse  button.  The widget may be a
button, entry field  or a sequence of menu  items.  In the case of the
Widget Toolbar which   just contains icons, we  give  the text of  the
balloon help. For example:<br> <br>
<table border=2 >
  <tr>
    <td> [Menu]:File/New  </td>
    <td> - select the "New" item in the "File" menu. </td>
  </tr>
  <tr>
    <td> [Tool]:button </td>
    <td>- select the button widget in the Widget Toolbar.  </td>
  </tr>
  <tr>
    <td> [Attr]:text    </td>
    <td>  - click in the entry field of the "text" item in
                      the Attribute Editor. </td>
  </tr>
  <tr>
    <td> [Attr]:command(...) </td>
    <td> - click the "..." button for the "command" item in
                      the Attribute Editor. </td>
  </tr>
</table> <br>



Generally, you need  to click on  an entry field in  a vTcl  window to
make it active for entry, and  you need to  press ENTER for the change
to take effect.<br>

There are several auxiliary  windows in vTcl  for command and function
editing, setting  aliases,  etc. Here  are the  windows that we'll  be
using:  <br><br>
<table border=2>
  <tr>
    <td> Abbrev<br><br> </td>
    <td>  Window Title Bar  <br><br></td>
    <td> Short Description  <br><br></td>
  </tr>
  <tr>
    <td> [Alias] </td>
    <td>  Widget Alias for ...  </td>
    <td> entry dialog for widget aliases </td>
  </tr>
  <tr>
    <td> [Comm]  </td>
    <td>   Command for ...   </td>
    <td>  button and menu edit window </td>
  </tr>
  <tr>
    <td> [Edit]  </td>
    <td> (toplevel name) </td>
    <td>    function edit window </td>
  </tr>
  <tr>
  <td>[Pref]</td>
  <td> Preferences </td>
  <td>  vTcl preferences</td>
  </tr>
</table>
<br>



Finally, we'll refer to the windows that _you_ create by names that
we'll assign as they are created. For example: <br><br>
<table border=2>
  <tr>
    <td> [Hello] </td>
    <td> the window that you create in tutorial #1 </td>
  </tr>
  <tr>
    <td>  [Goodbye] </td>
    <td> - the window that you create in tutorial #2  </td>
  </tr>
</table>
<br>

A very important window is the Widget Info window, or [Widg], which is
the top section of the Attribute Editor. It shows the following:

  <ul><li>Widget   - the name of the selected widget. Except for toplevels,
              the active widget is also highlighted with little square
              blocks in the corners.</li>
  <li>Class    - the type of widget or frame.</li>
 <li> Manager  - the geometry manager of the active widget.</li>
 <li> Alias    - an alias that you can assign to refer to this widget.
              Aliases are stored in an array called "widget".</li>
 <li> Insert   - widgets selected from the Widget Toolbar, or [Tool],
              will be inserted into this widget or frame.</li>
</ul>

<h2>vTcl user preferences</h2>

vTcl supports   several  user preference  settings  in the Preferences
window, [Pref], which  you get  from [Menu]:File/Preferences.   You'll
have to  set   yours to match   what  we  used  here  or  you'll  have
difficulties following the tutorials. If you find your version of vTcl
has more preferences  than are defined  here, try leaving them  in the
default state.<br><br>

The preferences in  these examples were the defaults  at the time that
this tutorial was written. Feel free  to customize vTcl preferences as
you like after you've finished these tutorials.<br> <br>

       <u> The Basics</u> <br> <br>

<ul>
        [X] Use Balloon Help<br>
        [ ] Ask for Widget name on insert <br>
        [X] Short automatic widget names <br>
        [ ] Save verbose widget configuration <br>
        [ ] Save global variable values <br>
        [ ] Window focus selects window<br> <br>
</ul>
       <u> Default Geometry Manager </u> <br> <br>


        <ul>( ) Grid   ( ) Pack     (X) Place<br><br>
</ul>
       <u> Widget Option Encapsulation</u><br> <br>


        <ul>(X) List   ( ) Braces   ( ) Quotes <br><br></ul>



<h1><u><i>Tutorial #1</i></u></h1><br>


The  first time  a task is   presented, there are  extra  comments and
instructions. As these  basics  are repeated, the  instructions become
more terse.<br>

 <dl><dt>1) Start vtcl.</dt><dd> <br>Four windows open: [Menu], [Widg], [Func], [Attr].
 <br> <br>
    You'll probably need to move them around so that  you can see them
    all at once. I  like to place the  [Attr] window on the right side
    of the screen  and stretch it to be  full height. There's a lot of
    info in this one window. Also, depending on the font size that you
    use, you may need to  stretch the width  of this window to see the
    little controls on the right edge. For example, [Attr]:command has
    a button to the right of the entry field with three dots on it.<br><br>
</dd>
 <dt>2) Check that [Menu]:File/Preferences match the list above. <dd></dd> <br>
</dt>
 <dt>3) Make sure that you also have the [Tops] window showing.</dt> <br><br>
    <dd>Turn it on with [Menu]:Window/Toplevels.<br>
   <ul> Note that [Menu]:Window lets you open and close all of the vTcl
    main windows.</ul></dd> <br>

<dt> 4) Create a window.</dt><br><br>

   <dd> a - click [Tool]:toplevel <br>
        It's the top left square with the blue strip across the top.<br> <br>

    <ul>Note the balloon help  when you hold the mouse  still over an icon
    for a couple of seconds! Have a look at  the balloon help for each
    icon now to get familiar with what they are.</ul>
    <ul>Note  also that [Widg], [Attr]  and [Geom], which are actually all
    in the  Attribute Editor window, filled  up  with info and options
    for the  toplevel window just   created. The information  in these
    windows  changes  as you select different   widgets by clicking on
    them with the left mouse button to make them active.</ul>
</dd>
<dt> 5) Change the title of the window.</dt> <br><br>

   <dd> a - click [Geom]:title <br>
    b - erase the default title: New Toplevel 1 <br>
    c -  type our new title: Hello <br>
    d - press ENTER.<br><br>

  <ul>  Note that the  title bar of your  new window changes, as  does the
    name in the [Tops] window.</ul></dd>

 <dt>6) Create a button in the window.</dt><br><br>

   <dd> a - click [Tool]:button

    <ul>Note the button created in the Hello window!</ul>
</dd>
 <dt>7) Change the text on the button.</dt><br><br>

   <dd> a - click [Attr]:Text<br>
    b - erase: button<br>
    c -  type: Say Hello<br>
    d - press ENTER

   <ul> Note that the text of the button changes to "Say Hello".</ul>
  </dd>

<dt> 8) Give the button something to do when it's clicked.
</dt> <br><br>
    <dd>a - click [Attr]:Command(...)    <ul> Note the [Comm] editor window that pops up</ul>
    b -  type in the [Comm] editor window: puts "Hello, World!" <br>
    c - click [Comm]:OK <br><br>
</dd>
 <dt>9) Move the button around to make it look nice.</dt> <br><br>

   <dd> The "Place" geometry manager  allows you to  simply drag and  drop
    widgets in  the window to  reposition them.  Don't drag the little
    black   squares in the  corners:  they  resize the button  itself.
    Click and drag the center of the button. <br><br>

    In your [Hello] window,<br><br>

    a - Try moving  your  "Say Hello"  button  to the  middle  of  the
        window. Also try  resizing the whole  window itself using  the
        normal window manager   methods (dragging  window corners  and
        edges) to make it all look nice.<br><br>
</dd>
<dt>10) Save your program to a disk file.</dt>

   <dd> a - click [Menu]:File/SaveAs <br>
    b -  type the name hello1.tcl in the Selection fiel <br>
    c - click Save or press Enter.</dd><br><br>

</dl>

It's  now   ready   to   run  by  executing  "wish   hello1.tcl",  or
"chmod  755  hello1.tcl"  and  execute  it  directly  as "hello1.tcl".
On UNIX systems, the message is written to the xterm where you execute
the program.  If you're  on some other platform  and you don't see the
message  anywhere,  just go  on to  the next  tutorial where we  add a
pop-up  window  for  the  message.<br><br>



<h1><u><i>Tutorial #2</i></u></h1>

Tutorial #1 can be  improved by popping  up a hello window rather than
just writing to stdout.<br><br>

If  you are  continuing from  the  same vTcl  session as  Tutorial #1,
you're ready   to   go.  Otherwise,  [Menu]:File/Close   any  existing
application then [Menu]:File/Open the  file "hello1.tcl" from Tutorial
#1.<br><br>

Besides creating and hiding a  second window, this tutorial introduces
the very useful "alias"  feature. You name  widgets and toplevels  and
then  refer to  them  by name using  the  "widget" array.  This avoids
having to use the long complicated names that are generated.<br><br>

<dl>
 <dt>1) Make sure that you have these windows showing:
</dt><br><br>
   <dd> [Menu], [Widg], [Func], [Attr], [Tops]. <br>

    Turn on any missing windows with [Menu]:Window.
</dd> <br><br>
<dt> 2) Create a second toplevel window.</dt><br><br>

   <dd> a - click [Tool]:toplevel</dd><br><br>

 <dt>3) Change the title of the window.
</dt> <br><br>
   <dd> a - click [Geom]:title<br>
    b - erase the default title: New Toplevel 2 <br>
    c -  type our new title: Goodbye <br>
    d - press ENTER</dd> <br><br>

<dt> 4) Give the button an alias for easy reference.</dt>

   <dd> a - click [Menu]:Options/SetAlias
        <ul>Note the little alias entry window pops up.</ul>

        b -  type: msg <br>
    c - click [Alias]:OK <br>
</dd><br>
 <dt>5) Put a message in the window.</dt>

    <dd>a - click [Tool]:message

   <ul> Note that a message widget is added to the active window.</ul></dd>

<dt>
6) Change the message text to the familiar friendly greeting.</dt> <br><br>

   <dd> a - click [Attr]:Text <br>
    b - erase: message  <br>
    c -  type: Hello, World! <br>
    d - press ENTER<br></dd>

<dt><br>
7) Change the aspect ratio attribute to put the message all on one</dt>
    line. <br><br>
<dd>
    a - click [Attr]:Aspect <br>
    a - change 150 to some bigger number (1500 will do) <br>
    b - press ENTER<br></dd>

    <ul>Note how the message all fits on one line now.</ul>

<dt> 8) Now add a button to the window.</dt><br><br>

  <dd>a - click [Tool]:button

    <ul>Note that the button  is placed on top of  the message, but  we'll
    move it in a minute.</ul>
</dd>
 <dt>9) Change the text on the button.</dt><br><br>

   <dd> a - click [Attr]:Text
    b - erase: button <br>
    c -  type: Goodbye <br>
    d - press ENTER<br></dd> <br>

<dt>10) Move the button and message around to make it all look nice.</dt> <br> <br>

    <dd>In the [Goodbye] window, <br><br>

    a - Drag the "Goodbye" button down so it's not covering the
        "Hello" message. <br>
    b - Arrange the placement of the two widgets and resize the window
        itself using the normal window manager controls to make it all
        look nice.<br></dd><br><br>

<dt>11) Make sure the Goodbye button is the active widget.<br><br>
</dt>
   <dd> a - click [Goodbye]:Goodbye

    By clicking  the "Goodbye"  button, you  "select" it  for editing.
   <ul> Note the little black squares in the corners to indicate this.  If
    you just finished  dragging   the "Hello" message,  the  "Goodbye"
    button wouldn't be the active (selected) widget.</ul></dd>

<dt>12) Give the Goodbye button a command to hide the [Goodbye] window.</dt> <br><br>

   <dd> a - click [Attr]:Command(...) <br>
    b -  type in the [Comm] window: Window hide $widget(msg)<br>
    c - click [Comm]:OK</dd> <br><br>

<dt>13) Position the goodbye window.</dt> <br><br>
<dd>
    Drag the [Goodbye] window  (by  the window  manager title bar)  to
    place it where you want it to pop up when you execute the program.
    vTcl enters this geometry placement into your application, but not
    all window managers will honor this placement.
</dd><br><br>
<dt>14) Hide the [Goodbye] window.</dt> <br><br>

    <dd>In the [Tops] window, <br><br>

    a - select Goodbye in the listbox <br>
    b - click [Tops]:Hide  <br><br>

    <ul>When you click [Menu]:File/Save to   save your applications,  make
    sure that you have your toplevel windows showing  or hidden as you
    would want them  to be when  a user runs  your application. In our
    program,  if you  save it  with the  "Goodbye" window showing, the
    user will get both windows at startup.</ul> <br>
</dd>
<dt>15) Give the "Hello" button the command to show the second window.</dt><br><br>

    <dd>In the [Hello] window,<br><br>

    a - click the "Hello" button to make it active. <br>
    b - click [Attr]:Command(...)<br>
    c - erase: puts "Hello, World!" <br>
    d -  type: Window show $widget(msg) <br>
    e - click [Comm]:OK<br></dd> <br><br>

<dt>16) Save your program to a disk file.</dt><br><br>

   <dd> a - click [Menu]:File/SaveAs<br>
    b -  type the name hello2.tcl in the Selection field.<br>
    c - click Save or press Enter.</dd> <br><br>
</dl>
It's  now  ready  to run by executing  "wish  hello2.tcl",  or
"chmod 755 hello2.tcl" and execute it directly as "hello2.tcl". <br>

Click "Say Hello", and the Goodbye window pops up. Click "Goodbye"
and the window goes away again. <br><br>



<h1><u><i>Tutorial #3</i></u></h1>


If  you  are continuing  from the  same  vTcl session  as Tutorial #2,
you're ready  to   go.   Otherwise,  [Menu]:File/Close any    existing
application then  [Menu]:File/Open the file "hello2.tcl" from Tutorial
#2. <br><br>

In [Menu]:Mode are items that toggle between EDIT and TEST mode. We've
been in EDIT mode up to this point.  TEST  mode allows you to actually
run your application  from within vTcl!  The current mode is shown  on
the bottom line  of the  [Menu] window.  This indicator  is in fact  a
convenience button that you can click to toggle between the two modes.<br><br>
<dl>
 <dt>1) Change to TEST mode to test the program from within vTcl.
</dt>
    <dd>a - click [Menu]:Mode/TestMode

   <ul> Note that the indicator in the [Menu] window changes to show TEST.
    Now you can click the  "Hello" and "Goodbye"  buttons and see that
    the application works without leaving vTcl!</ul></dd>
</dl>
<hr>

Last modified: 12 May 1997 <br>

Written by Rick Macdonald <rickm@vsl.com>, with suggestions from:<br><br>

Stewart Allen <br>
Larry W. Virden <br>

Convertet to html by Poul-Erik Andreasen  30 August 2000

Your feedback is welcome!
</font></body>
</html>